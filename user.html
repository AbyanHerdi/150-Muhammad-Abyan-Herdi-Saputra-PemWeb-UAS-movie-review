<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CineScope - Movie Review Community</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 <style>
  /* ==========================
   üåü STYLE UTAMA CINESCOPE
========================== */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', sans-serif;
  line-height: 1.6;
  background-color: #0a0a0a;
  color: #ffffff;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

.navbar {
  background-color: #111;
  padding: 1rem 0;
  position: sticky;
  top: 0;
  z-index: 1000;
  border-bottom: 1px solid #333;
}

.nav-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.nav-brand h1 {
  color: #e50914;
  font-size: 1.8rem;
  font-weight: 700;
}

.nav-search {
  display: flex;
  align-items: center;
  flex: 1;
  max-width: 400px;
  margin: 0 2rem;
}

.search-input {
  flex: 1;
  padding: 0.8rem 1rem;
  border: 1px solid #333;
  border-radius: 4px 0 0 4px;
  background-color: #1a1a1a;
  color: white;
  font-size: 0.9rem;
}

.search-btn {
  padding: 0.8rem 1rem;
  background-color: #e50914;
  border: none;
  border-radius: 0 4px 4px 0;
  color: white;
  cursor: pointer;
}

.nav-menu {
  display: flex;
  align-items: center;
  gap: 2rem;
}

.nav-link {
  color: #ccc;
  text-decoration: none;
  font-weight: 500;
  transition: color 0.3s ease;
}

.nav-link:hover {
  color: #e50914;
}

/* Tombol Login Merah */
.nav-btn {
  background-color: #e50914;
  color: #ffffff;
  padding: 0.6rem 1.2rem;
  border: none;
  border-radius: 4px;
  font-weight: 500;
  cursor: pointer;
  text-decoration: none;
  transition: background-color 0.3s ease, transform 0.2s ease;
}

.nav-btn:hover {
  background-color: #b8070f;
  transform: translateY(-2px);
}

/* Hero Section */
.hero {
  background: linear-gradient(to bottom, rgba(0,0,0,0.7) 60%, rgba(0,0,0,0.7) 100%),
              url('images/background.jpeg') no-repeat center center/cover;
  height: 500px;
  display: flex;
  align-items: center;
  text-align: center;
}

.hero-content {
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
}

.hero-content h2 {
  font-size: 3rem;
  font-weight: 700;
  margin-bottom: 1rem;
  color: white;
}

.hero-content p {
  font-size: 1.2rem;
  color: #ccc;
  margin-bottom: 2rem;
}

.hero-buttons {
  display: flex;
  gap: 1rem;
  justify-content: center;
}

.btn-primary {
  background-color: #e50914;
  color: white;
  padding: 1rem 2rem;
  border: none;
  border-radius: 4px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.btn-primary:hover {
  background-color: #b8070f;
}

.btn-secondary {
  background-color: transparent;
  color: white;
  padding: 1rem 2rem;
  border: 2px solid white;
  border-radius: 4px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn-secondary:hover {
  background-color: white;
  color: black;
}

/* Sections */
.trending-section, .new-section {
  padding: 4rem 0;
}

.trending-section h3, .new-section h3 {
  font-size: 2rem;
  margin-bottom: 2rem;
  color: white;
  text-align: center;
}

/* Movies Grid */
.movies-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
}

.movie-card {
  background-color: #1a1a1a;
  border-radius: 8px;
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.movie-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(229, 9, 20, 0.3);
}

.movie-poster {

  object-fit: cover;
  width: 616px; /* Ukuran container yang diinginkan */
    height: 353px;
    justify-content: center;
    align-items: center;
}

.movie-info {
  padding: 1rem;
}

.movie-title {
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: white;
}

.movie-year {
  color: #000000;
  font-size: 0.9rem;
  margin-bottom: 0.5rem;
}

.movie-rating {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.stars {
  color: #ffd700;
}

.rating-value {
  color: #ccc;
  font-weight: 500;
}

.movie-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.watch-btn {
  background-color: #e50914;
  color: white;
  padding: 0.5rem 1rem;
  border: none;
  border-radius: 4px;
  font-weight: 500;
  cursor: pointer;
}

.review-btn {
  background-color: transparent;
  color: #ccc;
  padding: 0.5rem 1rem;
  border: 1px solid #333;
  border-radius: 4px;
  font-weight: 500;
  cursor: pointer;
}

/* Footer */
.footer {
  background-color: #111;
  padding: 3rem 0 1rem;
  margin-top: 4rem;
}

.footer-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  margin-bottom: 2rem;
}

.footer-section h4 {
  color: #e50914;
  margin-bottom: 1rem;
  font-size: 1.2rem;
}

.footer-section p {
  color: #ccc;
  line-height: 1.6;
}

.footer-section a {
  display: block;
  color: #ccc;
  text-decoration: none;
  margin-bottom: 0.5rem;
  transition: color 0.3s ease;
}

.footer-section a:hover {
  color: #e50914;
}

.social-links {
  display: flex;
  gap: 1rem;
}

.social-links a {
  font-size: 1.5rem;
}

.footer-bottom {
  border-top: 1px solid #333;
  padding-top: 1rem;
  text-align: center;
  color: #888;
}

/* ==========================
   üìù DETAIL MOVIE PAGE
========================== */
.detail-container {
  max-width: 1000px;
  margin: 4rem auto;
  display: flex;
  flex-wrap: wrap;
  gap: 2rem;
  align-items: flex-start;
  padding: 0 20px;
}

.detail-poster {
  flex: 1 1 300px;
  max-width: 350px;
  border-radius: 10px;
  box-shadow: 0 5px 20px rgba(229, 9, 20, 0.3);
}

.detail-info {
  flex: 2 1 500px;
}

.detail-info h2 {
  font-size: 2.2rem;
  margin-bottom: 0.5rem;
}

.detail-info p {
  color: #ccc;
  line-height: 1.6;
}

.detail-meta {
  color: #aaa;
  margin-bottom: 1rem;
}

.trailer-frame {
  width: 100%;
  height: 400px;
  margin-top: 1.5rem;
  border-radius: 10px;
  border: none;
}

/* Tombol di halaman detail */
.detail-buttons {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
}

.detail-buttons button {
  background-color: hwb(357 4% 10%);
  border: none;
  color: white;
  padding: 0.8rem 1.5rem;
  border-radius: 5px;
  font-weight: 600;
  cursor: pointer;
  transition: 0.3s;
}

.detail-buttons button:hover {
  background-color: #b8070f;
}

/* Responsive Design */
@media (max-width: 768px) {
  .nav-container {
    flex-direction: column;
    gap: 1rem;
  }

  .nav-search {
    margin: 1rem 0;
    max-width: 100%;
  }

  .hero-content h2 {
    font-size: 2rem;
  }

  .hero-buttons {
    flex-direction: column;
  }

  .movies-grid {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }

  .footer-content {
    grid-template-columns: 1fr;
    text-align: center;
  }

  .social-links {
    justify-content: center;
  }

  .detail-container {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .detail-poster {
    width: 80%;
  }

  .trailer-frame {
    height:¬†250px;}
}
 </style>
</head>
<body>
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <h1>CineScope</h1>
      </div>
      <div class="nav-search">
        <input type="text" placeholder="Cari film, sutradara, atau aktor..." class="search-input">
        <button class="search-btn">
          <i class="fas fa-search"></i>
        </button>
      </div>
      <div class="nav-menu">
        <a href="jelajahi.html" class="nav-link">Jelajahi</a>
        <a href="daftar tonton.html" class="nav-link">Daftar Tonton</a>
        <a href="artikel.html" class="nav-link">Artikel</a>
         <a href="log out.html" class="nav-link">log out</a>
      </div>
    </div>
  </nav>
 <!-- ===== SEDANG TRENDING ===== -->
<section class="section new-section">
    <div class="container">
        <h2 class="section-title">
            <i class="fas fa-calendar-alt"></i> Rekomendasi
        </h2>
        <div class="movies-grid">
            <!-- Film Rilis Terbaru 1 -->
            <div class="movie-card">
                <div class="movie-poster">
                    <a href="film.sore.html">
                    <img src="c:\Users\Admin\Downloads\download (1).jpeg" alt="The Last Kingdom">  
                    <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #0277bd, #0288d1); display: flex; align-items: flex-end; justify-content: flex-end; padding: 10px;">
                        <span style="font-size: 40px;">üöÄ</span>
                    </div>
                    <div class="new-badge">
                        <i class="fas fa-star"></i> Baru
                    </div>
                    <div class="rating-badge">
                    </div>
                </a>

                </div>
                <div class="movie-info">
                    <div class="movie-title">Sore</div>
                    <div class="movie-year">10 Juli 2025</div>
                    <div class="movie-genre">Drama Romantis-Fantasi Ilmiah</div>
                    <div class="movie-rating">
                        <i class="fas fa-star"></i> 8.1/10
                    </div>
                </div>
            </div>

            <!-- Film Rilis Terbaru 2 -->
            <div class="movie-card">
                <div class="movie-poster">
                    <a href="Petaka Gunung Gede.html">
                     <img src="c:\Users\Admin\Downloads\images (2).jpeg"> 
                    <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #00897b, #26a69a); display: flex; align-items: flex-end; justify-content: flex-end; padding: 10px;">
                        <span style="font-size: 40px;">üåä</span>
                    </div>
                    <div class="new-badge">
                        <i class="fas fa-star"></i> Baru
                    </div>
                    <div class="rating-badge">
                      </a> 
                    </div>
                </div>
                <div class="movie-info">
                    <div class="movie-title">Petaka Gunung Gede</div>
                    <div class="movie-year">19 Juni 2025</div>
                    <div class="movie-genre">Horor-Petualangan</div>
                    <div class="movie-rating">
                        <i class="fas fa-star"></i> 7.9/10
                    </div>
                </div>
            </div>

            <!-- Film Rilis Terbaru 3 -->
            <div class="movie-card">
                <div class="movie-poster">
                    <a href="dilan 1990.html">
                     <img src="c:\Users\Admin\Downloads\foto ssssssss\MV5BNjE1M2NkN2UtZjYzMS00ZjMyLWI2NDctYTFlMDg3MzI5MzJhXkEyXkFqcGc@._V1_.jpg" alt="The Last Kingdom">  
                    <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #558b2f, #9ccc65); display: flex; align-items: flex-end; justify-content: flex-end; padding: 10px;">
                        <span style="font-size: 40px;">üåø</span>
                    </div>
                    <div class="new-badge">
                        <i class="fas fa-star"></i> Baru
                    </div>
                    <div class="rating-badge">
                        </a>
                    </div>
                </div>
                <div class="movie-info">
                    <div class="movie-title">Dilan 1990</div>
                    <div class="movie-year">25 Januari 2018</div>
                    <div class="movie-genre">Documentary, Drama</div>
                    <div class="movie-rating">
                        <i class="fas fa-star"></i> 8.4/10
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ===== RILIS TERBARU ===== -->
<section class="section new-section">
    <div class="container">
        <h2 class="section-title">
            <i class="fas fa-calendar-alt"></i> Rilis Terbaru
        </h2>
        <div class="movies-grid">
            <!-- Film Rilis Terbaru 1 -->
            <div class="movie-card">
                <div class="movie-poster">
                    <a href="rest area.html">
                     <img src="c:\Users\Admin\Downloads\foto ssssssss\15RARA.jpg" alt="The Last Kingdom">  
                    <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #0277bd, #0288d1); display: flex; align-items: flex-end; justify-content: flex-end; padding: 10px;">
                        <span style="font-size: 40px;">üöÄ</span>
                    </div>
                    <div class="new-badge">
                        <i class="fas fa-star"></i> Baru
                    </div>
                    <div class="rating-badge">
                        </a>
                    </div>
                </div>
                <div class="movie-info">
                    <div class="movie-title">Rest Area</div>
                    <div class="movie-year">2 Oktober 2025</div>
                    <div class="movie-genre">Horor</div>
                    <div class="movie-rating">
                        <i class="fas fa-star"></i> 8.1/10
                    </div>
                </div>
            </div>

            <!-- Film Rilis Terbaru 2 -->
            <div class="movie-card">
                <div class="movie-poster">
                    <a href="tukar takdir.html">
                     <img src="c:\Users\Admin\Downloads\foto ssssssss\15TTAR.jpg" alt="The Last Kingdom">  
                    <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #00897b, #26a69a); display: flex; align-items: flex-end; justify-content: flex-end; padding: 10px;">
                        <span style="font-size: 40px;">üåä</span>
                    </div>
                    <div class="new-badge">
                        <i class="fas fa-star"></i> Baru
                    </div>
                    <div class="rating-badge">
                       </a>
                    </div>
                </div>
                <div class="movie-info">
                    <div class="movie-title">Tukar Takdir</div>
                    <div class="movie-year">2025</div>
                    <div class="movie-genre">2 Oktober 2025</div>
                    <div class="movie-rating">
                        <i class="fas fa-star"></i> 7.9/10
                    </div>
                </div>
            </div>

            <!-- Film Rilis Terbaru 3 -->
            <div class="movie-card">
                <div class="movie-poster">
                    <a href="rangga & cinta.html">
                     <img src="c:\Users\Admin\Downloads\foto ssssssss\1431732_720.jpg" alt="The Last Kingdom">  
                    <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #558b2f, #9ccc65); display: flex; align-items: flex-end; justify-content: flex-end; padding: 10px;">
                        <span style="font-size: 40px;">üåø</span>
                    </div>
                    <div class="new-badge">
                        <i class="fas fa-star"></i> Baru
                    </div>
                    <div class="rating-badge">
                     </a>   
                    </div>
                </div>
                <div class="movie-info">
                    <div class="movie-title">Rangga & cinta</div>
                    <div class="movie-year">2 Oktober 2025</div>
                    <div class="movie-genre">Drama-Romantis</div>
                    <div class="movie-rating">
                        <i class="fas fa-star"></i> 8.4/10
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>CineScope</h4>
          <p>Platform review film terbaik untuk komunitas pencinta sinema Indonesia</p>
        </div>
        <div class="footer-section">
          <h4>Tautan</h4>
          <a href="tentang kami user.html">Tentang Kami</a>
          <a href="kebijakan privasi user.html">Kebijakan Privasi</a>
          <a href="syarat & ketentuan user.html">Syarat & Ketentuan</a>
        </div>
        <div class="footer-section">
          <h4>Ikuti Kami</h4>
          <div class="social-links">
            <a href="https://x.com/piesekkn?t=n4wxmydCKx6Oy_aQHDTZTQ&s=09"><i class="fab fa-twitter"></i></a>
            <a href="https://www.facebook.com/share/17aUUywEem/"><i class="fab fa-facebook"></i></a>
            <a href="https://www.instagram.com/fernandokinansyah_?igsh=MTdrNGplNThmNTVvdw=="><i class="fab fa-instagram"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 CineScope. All rights reserved.</p>
      </div>
    </div>
  </footer>
  <script>
    // ===== DATA FILM UTAMA =====
const moviesData = [
  {
    id: 1,
    title: "Sore",
    year: "2025",
    genre: "Drama Romantis-Fantasi Ilmiah",
    rating: 8.1,
    image: "sore.jpg",
    description: "Sebuah cerita tentang cinta yang melampaui dimensi",
    releaseDate: "10 Juli 2025"
  },
  {
    id: 2,
    title: "Petaka Gunung Gede",
    year: "2025",
    genre: "Horor-Petualangan",
    rating: 7.9,
    image: "petaka-gunung-gede.jpg",
    description: "Petualangan menakutkan di gunung yang penuh misteri",
    releaseDate: "19 Juni 2025"
  },
  {
    id: 3,
    title: "Dilan 1990",
    year: "2018",
    genre: "Documentary, Drama",
    rating: 8.4,
    image: "dilan-1990.jpg",
    description: "Kisah cinta legendaris di era 90-an",
    releaseDate: "25 Januari 2018"
  },
  {
    id: 4,
    title: "Rest Area",
    year: "2025",
    genre: "Aksi-Thriller",
    rating: 7.2,
    image: "rest-area.jpg",
    description: "Malam mencekam di rest area yang terisolasi.",
    releaseDate: "5 September 2025"
  },
  {
    id: 5,
    title: "Tukar Takdir",
    year: "2024",
    genre: "Sci-Fi-Drama",
    rating: 8.5,
    image: "tukar-takdir.jpg",
    description: "Ketika sebuah aplikasi bisa menukar nasib hidupmu",
    releaseDate: "1 Desember 2024"
  },
  {
    id: 6,
    title: "Rangga & Cinta",
    year: "2002",
    genre: "Drama-Romantis",
    rating: 8.0,
    image: "rangga-cinta.jpg",
    description: "Adaptasi dari kisah Rangga dan Cinta di tahun 2002",
    releaseDate: "7 Februari 2002"
  }
];

// ===== KONFIGURASI LOCAL STORAGE UNTUK SETIAP FILM =====
const MOVIE_CONFIGS = [
  { title: "Dilan 1990", storageKey: "dilan1990Reviews", type: "array" },
  { title: "Rangga & Cinta", storageKey: "ranggaCintaReviews", type: "array" },
  { title: "Rest Area", storageKey: "restAreaReviews", type: "array" },
  { title: "Tukar Takdir", storageKey: "tukarTakdirReviews", type: "array" },
  { title: "Sore", storageKey: "movieReviews", subKey: "Sore", type: "object" },
  { title: "Petaka Gunung Gede", storageKey: "movieTrendingData", subKey: "Petaka Gunung Gede", type: "object" }
];

// ==========================================================
// üßÆ PERBARUI RATING FILM BERDASARKAN ULASAN
// ==========================================================
function updateMovieRatingsFromReviews() {
  MOVIE_CONFIGS.forEach(config => {
    let avgRating = 0;
    let count = 0;

    try {
      const data = JSON.parse(localStorage.getItem(config.storageKey));

      if (config.type === "array" && Array.isArray(data)) {
        count = data.length;
        if (count > 0) {
          const total = data.reduce((sum, review) => sum + (review.rating || 0), 0);
          avgRating = total / count;
        }
      } else if (config.type === "object" && config.subKey && data && data[config.subKey]) {
        avgRating = data[config.subKey].rating || 0;
        count = data[config.subKey].count || 0;
      }
    } catch (e) {
      console.warn("Gagal membaca data review untuk:", config.title);
    }

    const movie = moviesData.find(m => m.title === config.title);
    if (movie && count > 0) {
      const newRating = ((movie.rating * 1) + (avgRating * count)) / (count + 1);
      movie.rating = parseFloat(newRating.toFixed(1));
    }
  });
}

// ==========================================================
// üöÄ HITUNG DAN URUTKAN TRENDING BERDASARKAN ULASAN
// ==========================================================
function calculateTrendingMetrics() {
  let allMetrics = {};

  MOVIE_CONFIGS.forEach(movie => {
    let rating = 0;
    let count = 0;

    try {
      const data = JSON.parse(localStorage.getItem(movie.storageKey));
      if (movie.type === "array" && data) {
        const reviews = data;
        count = reviews.length;
        if (count > 0) {
          const totalRating = reviews.reduce((sum, review) => sum + review.rating, 0);
          rating = totalRating / count;
        }
      } else if (movie.type === "object" && movie.subKey && data && data[movie.subKey]) {
        rating = data[movie.subKey].rating || 0;
        count = data[movie.subKey].count || 0;
      }
    } catch (e) {}

    let pageLink = movie.title.toLowerCase().replaceAll(" ", "_").replaceAll("&", "and") + ".html";
    if (movie.title === "Rangga & Cinta") pageLink = "rangga & cinta.html";
    if (movie.title === "Dilan 1990") pageLink = "dilan 1990.html";
    if (movie.title === "Sore") pageLink = "film.sore.html";

    allMetrics[movie.title] = {
      title: movie.title,
      rating: parseFloat(rating.toFixed(1)),
      count: count,
      page: pageLink
    };
  });

  return Object.values(allMetrics);
}

// ==========================================================
// üî• URUTKAN TRENDING: ULASAN TERBANYAK ‚Üí RATING TERTINGGI
// ==========================================================
function getTrendingFilms(filmsData) {
  const MIN_REVIEW_COUNT = 1;
  const MIN_RATING = 0.0;
  const MAX_TRENDING_SLOTS = 5;

  return filmsData
    .filter(film => film.count >= MIN_REVIEW_COUNT && film.rating >= MIN_RATING)
    .sort((a, b) => {
      // 1Ô∏è‚É£ Ulasan terbanyak lebih diutamakan
      if (b.count !== a.count) return b.count - a.count;
      // 2Ô∏è‚É£ Kalau ulasan sama, rating tinggi yang menang
      return b.rating - a.rating;
    })
    .slice(0, MAX_TRENDING_SLOTS);
}

// ==========================================================
// üß± RENDER LISTA FILM TRENDING
// ==========================================================
function renderTrending(trendingFilms) {
  const trendingListContainer = document.getElementById('trendingList');
  if (!trendingListContainer) return;

  trendingListContainer.innerHTML = '';

  if (trendingFilms.length === 0) {
    trendingListContainer.innerHTML = `
      <div class="info-message-trending" style="padding: 20px; text-align: center; background: #1f1f1f; border-radius: 8px;">
        <i class="fas fa-chart-line" style="color: #e50914;"></i> Belum ada film yang memenuhi kriteria trending.
      </div>`;
    return;
  }

  trendingFilms.forEach((film, index) => {
    const movieData = moviesData.find(m => m.title === film.title);
    const posterImage = movieData ? movieData.image : "default.jpg";
    const badge = `<div class="trending-badge" style="position:absolute;top:5px;left:5px;background:#e50914;color:#fff;padding:3px 8px;border-radius:5px;font-size:12px;font-weight:700;z-index:10;">Trending #${index + 1}</div>`;

    const filmCard = document.createElement('div');
    filmCard.className = 'movie-card';
    filmCard.style.position = 'relative';
    filmCard.innerHTML = `
      ${badge}
      <a href="${film.page}">
        <img src="images/${posterImage}" alt="${film.title}" class="movie-poster">
      </a>
      <div class="movie-meta">
        <div class="movie-title"><a href="${film.page}">${film.title}</a></div>
        <div class="movie-rating"><i class="fas fa-star" style="color:#ffc107;"></i> ${film.rating.toFixed(1)}/5 <span class="review-count">(${film.count} Ulasan)</span></div>
      </div>`;
    trendingListContainer.appendChild(filmCard);
  });
}

// ==========================================================
// üîç FUNGSI PENCARIAN
// ==========================================================
function renderMovieCards(containerId, filmsArray) {
  const container = document.getElementById(containerId);
  if (!container) return;

  container.innerHTML = '';

  if (filmsArray.length === 0) {
    container.innerHTML = '<p class="info-message-search">‚ùå Tidak ada film yang ditemukan.</p>';
    return;
  }

  filmsArray.forEach(movie => {
    const config = MOVIE_CONFIGS.find(c => c.title === movie.title);
    let pageLink = config ? config.page : movie.title.toLowerCase().replaceAll(" ", "_") + ".html";

    const filmCard = document.createElement('div');
    filmCard.className = 'movie-card';
    filmCard.innerHTML = `
      <a href="${pageLink}">
        <img src="images/${movie.image}" alt="Poster Film ${movie.title}" class="movie-poster">
      </a>
      <div class="movie-meta">
        <div class="movie-title"><a href="${pageLink}">${movie.title}</a></div>
        <div class="movie-genre">${movie.genre}</div>
        <div class="movie-rating"><i class="fas fa-star" style="color:#ffc107;"></i> ${movie.rating.toFixed(1)}/10</div>
      </div>`;
    container.appendChild(filmCard);
  });
}

function initializeSearch() {
  const searchInput = document.querySelector('.search-input');
  const searchBtn = document.querySelector('.search-btn');
  renderMovieCards('recommendedList', moviesData);

  function performSearch() {
    const query = searchInput.value.toLowerCase().trim();
    if (query === "") {
      renderMovieCards('recommendedList', moviesData);
      return;
    }

    const filteredMovies = moviesData.filter(movie =>
      movie.title.toLowerCase().includes(query) ||
      movie.genre.toLowerCase().includes(query) ||
      movie.description.toLowerCase().includes(query)
    );
    renderMovieCards('recommendedList', filteredMovies);
  }

  if (searchInput) searchInput.addEventListener('keyup', performSearch);
  if (searchBtn) searchBtn.addEventListener('click', e => {
    e.preventDefault();
    performSearch();
  });
}

// ==========================================================
// üîÑ SAAT HALAMAN DIMUAT
// ==========================================================
document.addEventListener("DOMContentLoaded", function() {
  updateMovieRatingsFromReviews();

  const filmMetrics = calculateTrendingMetrics();
  const trendingFilms = getTrendingFilms(filmMetrics);
  renderTrending(trendingFilms);

  initializeSearch();

  const addBtn = document.getElementById("btnAddDummy");
  const clearBtn = document.getElementById("btnClearData");

  if (addBtn) {
    addBtn.addEventListener("click", function() {
      localStorage.setItem("tukarTakdirReviews", JSON.stringify([
        { rating: 5 }, { rating: 5 }, { rating: 4 }, { rating: 5 }, { rating: 5 }, { rating: 4 }, { rating: 5 }, { rating: 5 }, { rating: 4 }, { rating: 5 }
      ]));
      localStorage.setItem("dilan1990Reviews", JSON.stringify([
        { rating: 4 }, { rating: 5 }, { rating: 4 }, { rating: 5 }
      ]));
      localStorage.setItem("restAreaReviews", JSON.stringify([
        { rating: 3 }, { rating: 4 }, { rating: 3 }, { rating: 4 }, { rating: 3 }
      ]));
      alert("‚úÖ Data ulasan dummy berhasil ditambahkan!\nSilakan refresh halaman untuk melihat hasilnya.");
    });
  }

  if (clearBtn) {
    clearBtn.addEventListener("click", function() {
      localStorage.clear();
      alert("üßπ Semua data ulasan dihapus!\nSilakan refresh halaman.");
    });
  }

  console.log("‚úÖ script.js berhasil dijalankan tanpa error!");
});
// ======== üîç FITUR SEARCH TANPA MENGUBAH TAMPILAN ========
document.addEventListener("DOMContentLoaded", () => {
  const searchInput = document.querySelector(".search-input");
  const searchBtn = document.querySelector(".search-btn");
  const movieCards = document.querySelectorAll(".movie-card");

  function searchMovies() {
    const query = searchInput.value.toLowerCase().trim();

    movieCards.forEach(card => {
      const title = card.querySelector(".movie-title")?.textContent.toLowerCase() || "";
      const genre = card.querySelector(".movie-genre")?.textContent.toLowerCase() || "";
      if (title.includes(query) || genre.includes(query) || query === "") {
        card.style.display = "";
      } else {
        card.style.display = "none";
      }
    });
  }

  if (searchInput) {
    searchInput.addEventListener("keyup", searchMovies);
  }
  if (searchBtn) {
    searchBtn.addEventListener("click", (e) => {
      e.preventDefault();
      searchMovies();
    });
  }
});

  </script>
 
</body>
</html>